% -----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+
%      |     |     |     |     |     |     |     |     |     |     |     |     |
% -----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+
\chapter{Plugins TCL}
Exemplos de plugins TCL: \url{http://puredata.info/docs/guiplugins/SimpleExamples/}

Every file that uses the xyz-plugin.tcl naming scheme and resides in the object search path of Pd is executed upon startup. More exactly, it is the pdtk\_pd\_startup function in pd-gui.tcl that calls the execution of startup plugins, in the following order:


\begin{lstlisting}
# META NAME My nifty plugin
# META DESCRIPTION Does all kinds of magic that may not be necessary for everyone
# META AUTHOR <John the Developer> johndev@mail.com

package require Tcl 8.5         # The minimum version of TCL that allows the plugin to run
package require Ttk             # If Tk or Ttk is needed
package require pdwindow 0.1    # Any elements of the Pd GUI that are required
                                # + require everything and all your script needs.
                                #   If a requirement is missing,
                                #   Pd will load, but the script will not.
\end{lstlisting}
\footnote{\url{http://puredata.info/docs/guiplugins/GUIPlugins/}}


Passando par√¢mentros

\begin{lstlisting}
    bind all <$::modifier-Key-a>      {menu_send %W selectall}
\end{lstlisting}

\section{Eventos do Pd}

http://puredata.info/docs/guiplugins/GuiPluginsAPI/

% -----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+
%      |     |     |     |     |     |     |     |     |     |     |     |     |
% -----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+
\section{Trocando dados entre C e TCL}

\begin{lstlisting}
   sys_gui(" if { [catch {pd}] } {proc pd {args} {pdsend [join $args " "]}}\n");
\end{lstlisting}

\todo{Mostrar problemas de um procedimento e 2 objetos}

\todo{Falar do expr?}


